<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %> - Anime Discovery
    </title>
    <link rel="stylesheet" href="/styles/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <header style="padding: 2rem 0; text-align: left;">
            <a href="/" style="text-decoration: none; color: var(--text-gray); font-weight: 600;">&larr; Back to
                Search</a>
        </header>

        <main>
            <% if (error) { %>
                <div style="text-align: center; color: #ef4444; margin-bottom: 2rem;">
                    <%= error %>
                </div>
                <% } else { %>
                    <div class="details-container"
                        style="background: var(--bg-card); border-radius: 1rem; padding: 2rem; display: flex; gap: 2rem; flex-wrap: wrap;">

                        <!-- Image Section -->
                        <div style="flex: 0 0 300px;">
                            <% if (image) { %>
                                <img src="<%= image %>" alt="<%= title %>"
                                    style="width: 100%; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);">
                                <% } else { %>
                                    <div
                                        style="width: 100%; height: 400px; background: #334155; border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; color: var(--text-gray);">
                                        No Image Available
                                    </div>
                                    <% } %>
                        </div>

                        <!-- Info Section -->
                        <div style="flex: 1; min-width: 300px;">
                            <h1 style="margin-top: 0; font-size: 2.5rem;">
                                <%= title %>
                            </h1>

                            <div style="margin-bottom: 1.5rem;">
                                <% if (type) { %>
                                    <span
                                        style="background: var(--primary); color: white; padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.875rem; font-weight: 600; text-transform: uppercase;">
                                        <%= type %>
                                    </span>
                                    <% } %>
                                        <% if (vintage) { %>
                                            <span style="color: var(--text-gray); margin-left: 1rem;">
                                                <%= vintage %>
                                            </span>
                                            <% } %>
                            </div>

                            <% if (genres && genres.length> 0) { %>
                                <div style="margin-bottom: 1.5rem;">
                                    <h3
                                        style="color: var(--text-gray); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em;">
                                        Genres</h3>
                                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 0.5rem;">
                                        <% genres.forEach(genre=> { %>
                                            <span
                                                style="background: rgba(255, 255, 255, 0.1); padding: 0.25rem 0.75rem; border-radius: 0.5rem; font-size: 0.9rem;">
                                                <%= genre %>
                                            </span>
                                            <% }); %>
                                    </div>
                                </div>
                                <% } %>

                                    <% if (plot) { %>
                                        <div style="margin-bottom: 2rem;">
                                            <h3
                                                style="color: var(--text-gray); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em;">
                                                Plot Summary</h3>
                                            <p style="line-height: 1.6; margin-top: 0.5rem;">
                                                <%= plot %>
                                            </p>
                                        </div>
                                        <% } %>

                                            <!-- Additional details like Cast could go here -->
                        </div>
                    </div>
                    <% } %>
        </main>
    </div>
</body>

</html>